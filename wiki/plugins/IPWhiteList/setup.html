<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" type="text/css" href="../../../style/global.css">
  <link rel="stylesheet" type="text/css" href="../../../style/navigation.css">
  <link rel="stylesheet" type="text/css" href="../../../style/syntax.css">
  <link rel="stylesheet" type="text/css" href="../../../style/wiki.css">
  <script src="../../../script/footer.js"></script>
  <script src="../../../script/wikiNavigation.js"></script>

  <link rel="icon" href="../../../uploads/icon.png" type="png">
  <title>Wiki - IPWhiteList</title>
</head>

<!--Navigation-->
<header>
  <nav id="navigation" class="navigation">
    <div class="menuImg">
      <img src="../../../uploads/icon.png" class="menuImg">
    </div>
    Davidcubesvk

    <ul id="menu" class="menu">
      <li class="menuItem hoverable"><a href="../../../">HOME</a></li>
      <li class="menuItem hoverable"><a href="../../../projects/">PROJECTS</a></li>
      <li class="menuItem current"><a>WIKI</a></li>
      <li class="menuItem hoverable"><a href="../../../support/">SUPPORT</a></li>
    </ul>
  </nav>
</header>

<body onload="positionFooter(); wikiNavigation();">
  <!--Wiki navigation-->
  <ul class="wikiNavigation">
    <li class="wikiNavigation title">
      <svg>
        <path d="M2 3 S6 0 10 3 M10 3 S14 0 18 3" />
        <path d="M2 3 L2 10 M10 3 L10 10 M18 3 L18 10" />
        <path d="M2 10 S6 7 10 10 M10 10 S14 7 18 10" />
      </svg>
      <a>Pages</a></li>
    <li class="wikiNavigation hoverable"><a href="../IPWhiteList/">Overview</a></li>
    <li class="wikiNavigation current"><a>Setup</a></li>
    <li class="wikiNavigation hoverable"><a href="commands.html">Commands</a></li>
    <li class="wikiNavigation hoverable"><a href="configuration.html">Configuration</a></li>
    <li class="wikiNavigation hoverable"><a href="api.html">API</a></li>
  </ul>

  <!--Page navigation-->
  <ul class="wikiSideBar">
    <li class="wikiSideBar title">
      <svg>
        <path d="M0 0 L10 0 L10 2 L0 2 L0 0             M0 4 L5 4 L5 6 L0 6 L0 4      M0 8 L8 8 L8 10 L0 10 L0 8 Z">
      </svg>
      <a>Contents</a></li>
    <li class="wikiSideBar hoverable"><a href="#importantConfiguration">Installation</a></li>
    <li class="wikiSideBar hoverable"><a href="#connectingToExtension">Connecting to extension</a></li>
    <li class="wikiSideBar hoverable"><a href="#connectionConfiguration">Connection configuration</a></li>
    <li class="wikiSideBar hoverable"><a href="#whitelisted">Whitelisted IPs</a></li>
    <li class="wikiSideBar hoverable"><a href="#setupMode">Setup mode</a></li>
    <li class="wikiSideBar hoverable"><a href="#ipWhiteListBukkit">IPWhiteListBukkit</a></li>
  </ul>

  <div class="wikiSection">
    <h1 class="sectionTitle" id="importantConfiguration">1. Installation:</h1>
    <p>Download the latest version of the plugin available from the official plugin page on SpigotMC. Put the .jar file into the plugins folder of your BungeeCord server and restart it.
      Next steps will guide you through the configuration itself.</p>

    <!--Connneting to the extension-->
    <h1 class="sectionTitle" id="connectingToExtension">2. Connecting to extension:</h1>
    <!--Config.yml part-->
    <!--davidcubesvk's YML to HTML converter-->
    <div class="codeBlock">
      <div style="width: 1000px;">
        <code class="codeInBlock">
          <a class="yamlComment">#Connection&nbsp;with&nbsp;extension&nbsp;IPWhiteListBukkit:</a><br>
          <a class="yamlKey">connect:</a><br>
          &nbsp;&nbsp;<a class="yamlComment">#Type&nbsp;of&nbsp;the&nbsp;connection&nbsp;(more&nbsp;and&nbsp;detailed&nbsp;info&nbsp;can&nbsp;be&nbsp;found&nbsp;on&nbsp;the&nbsp;wiki):</a><br>
          &nbsp;&nbsp;<a class="yamlComment">#-&nbsp;YML:&nbsp;connection&nbsp;provided&nbsp;by&nbsp;data.yml&nbsp;file&nbsp;created&nbsp;in&nbsp;plugin's&nbsp;data&nbsp;folder</a><br>
          &nbsp;&nbsp;<a class="yamlComment">#-&nbsp;SOCKET:&nbsp;connection&nbsp;using&nbsp;sockets</a><br>
          &nbsp;&nbsp;<a class="yamlComment">#-&nbsp;MYSQL:&nbsp;connection&nbsp;using&nbsp;MySQL&nbsp;database</a><br>
          &nbsp;&nbsp;<a class="yamlKey">type:&nbsp;</a><a class="yamlValue">SOCKET</a><br>
          &nbsp;&nbsp;...
        </code>
      </div>
    </div>
    <p>At first we need to connect the IPWhiteList to IPWhiteListBukkit. The first few lines with the section name "connect" are configuration we need for this.</p>
    <p><strong>type:</strong> This specifies how the plugins will be connected. We have three options. </p>
    <ul>
      <li>
        <p><code class="code">YML</code> - The file communication is really basic,
          may be hard to setup and may be slow, but is really reliable. This way of communication is provided by <code>data.yml</code> file which is generated in the folder as where <code>config.yml</code>
          file is. IPWhiteListBukkit then reads this file.</p>
      </li>
      <li>
        <p><code class="code">SOCKET<sup><a href="#term1">1</a></sup></code> - Recommended for shared / multi-machine server hosting. Communication is provided over internet, it's fast and supports MultiCraft, multi-machine servers and is comfortable
          to set up.
          It may cause delays, mainly if using between two different machines, for example when internet connection fails.
        </p>
        <p><code class="code">MYSQL</code> - Pretty the same as YML, except data is stored in a database.
        </p>
      </li>
    </ul>

    <h1 class="sectionTitle" id="connectionConfiguration">3. Connection configuration:</h1>
    <!--File configuration-->
    <h2>3A. YML configuration:</h2>
    <p>There is no configuration for this type of connection on IPWhiteList's side.</p>

    <!--Socket configuration-->
    <h2>3B. Socket configuration:</h2>
    <!--Config.yml part-->
    <!--davidcubesvk's YML to HTML converter-->
    <div class="codeBlock">
      <div style="width: 1000px;">
        <code class="codeInBlock">
          <a class="yamlComment">#Connection&nbsp;with&nbsp;extension&nbsp;IPWhiteListBukkit:</a><br>
          <a class="yamlKey">connect:</a><br>
          &nbsp;&nbsp;...<br>
          &nbsp;&nbsp;<a class="yamlComment">#Socket&nbsp;port&nbsp;(if&nbsp;type&nbsp;=&nbsp;SOCKET):</a><br>
          &nbsp;&nbsp;<a class="yamlKey">socketPort:&nbsp;</a><a class="yamlValue">4444</a><br>
          &nbsp;&nbsp;...
        </code>
      </div>
    </div>
    <p>If we chose <code>SOCKET</code> connection type, we need to configure only one thing:</p>
    <p><strong>socketPort:</strong> This number tells the plugin which port should be the socket server hosted on. This is not port of your server. Your server is run on some port, so IPWhiteList's is. See <sup><a href="#term1">1</a></sup>.</p>

    <!--MySQL configuration-->
    <h2>3C. MySQL configuration:</h2>
    <!--Config.yml part-->
    <!--davidcubesvk's YML to HTML converter-->
    <div class="codeBlock">
      <div style="width: 1000px;">
        <code class="codeInBlock">
          <a class="yamlComment">#Connection&nbsp;with&nbsp;extension&nbsp;IPWhiteListBukkit:</a><br>
          <a class="yamlKey">connect:</a><br>
          &nbsp;&nbsp;...
          &nbsp;&nbsp;<a class="yamlComment">#MySQL&nbsp;connection&nbsp;(if&nbsp;type&nbsp;=&nbsp;MYSQL):</a><br>
          &nbsp;&nbsp;<a class="yamlKey">mysql:</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlComment">#Host:</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlKey">host:&nbsp;</a><a class="yamlValue yamlStringValue">""</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlComment">#Port:</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlKey">port:&nbsp;</a><a class="yamlValue yamlStringValue">""</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlComment">#Username</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlKey">username:&nbsp;</a><a class="yamlValue yamlStringValue">""</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlComment">#Password:</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlKey">password:&nbsp;</a><a class="yamlValue yamlStringValue">""</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlComment">#Database:</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlKey">database:&nbsp;</a><a class="yamlValue yamlStringValue">""</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlComment">#Table&nbsp;name&nbsp;to&nbsp;use:</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlKey">table:&nbsp;</a><a class="yamlValue yamlStringValue">"ipwhitelist"</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlComment">#Use&nbsp;SSL&nbsp;certificate&nbsp;to&nbsp;connect&nbsp;(secure&nbsp;way&nbsp;for&nbsp;communication):</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlKey">useSSL:&nbsp;</a><a class="yamlValue">true</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlComment">#Delay&nbsp;between&nbsp;reconnecting&nbsp;attempts,&nbsp;when&nbsp;connection&nbsp;has&nbsp;been&nbsp;unexpectedly&nbsp;closed&nbsp;(in&nbsp;seconds):</a><br>
          &nbsp;&nbsp;&nbsp;&nbsp;<a class="yamlKey">reconnect:&nbsp;</a><a class="yamlValue">3</a><br>
        </code>
      </div>
    </div>
    <p>If we chose <code>MYSQL</code> connection type, we need to configure all connection data and also what table we want IPWhiteList and IPWhiteListBukkit to use and the reconnect delay.</p>
    <p><strong>host:</strong> IP of the database host.</p>
    <p><strong>port:</strong> Port on which is the database hosted.</p>
    <p><strong>username:</strong> Username to connect with to the database.</p>
    <p><strong>password:</strong> Password for the username.</p>
    <p><strong>database:</strong> Name of the database to use.</p>
    <p><strong>table:</strong> Table to be used by IPWhiteList. <strong>Do not create the specified table! IPWhiteList will create it by itself with needed columns.</strong></p>
    <p><strong>useSSL:</strong> Use SSL certificate to connect.</p>
    <p><strong>reconnect:</strong> Delay in seconds between reconnecting attempts, when connection unexpectedly failed or failed to connect and trying again.</p>

    <!--Whitelisted-->
    <h1 class="sectionTitle" id="whitelisted">4. Whitelisted IPs:</h1>
    <!--Config.yml part-->
    <!--davidcubesvk's YML to HTML converter-->
    <div class="codeBlock">
      <div>
        <code class="codeInBlock">
          <a class="yamlComment">#WhiteListed&nbsp;IPs:</a><br>
          <a
            class="yamlComment">#INFO:&nbsp;1.&nbsp;To&nbsp;enable&nbsp;all&nbsp;hostnames,&nbsp;insert&nbsp;*.&nbsp;prefix&nbsp;before&nbsp;the&nbsp;whitelisted&nbsp;IP,&nbsp;e.g.&nbsp;*.yourserver.com&nbsp;will&nbsp;allow&nbsp;players&nbsp;connecting&nbsp;with</a><br>
          <a class="yamlComment">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abc.yourserver.com,&nbsp;xyz.yourserver.com...,&nbsp;(useful&nbsp;for&nbsp;servers&nbsp;with&nbsp;AntiDDoS&nbsp;service).</a><br>
          <a
            class="yamlComment">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.&nbsp;To&nbsp;apply&nbsp;whitelisted&nbsp;IP&nbsp;without&nbsp;hostnames,&nbsp;insert&nbsp;only&nbsp;the&nbsp;IP&nbsp;without&nbsp;any&nbsp;prefix,&nbsp;e.g.&nbsp;yourserver.com&nbsp;will&nbsp;allow&nbsp;only&nbsp;players</a><br>
          <a class="yamlComment">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;connecting&nbsp;with&nbsp;yourserver.com.</a><br>
          <a
            class="yamlComment">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.&nbsp;If&nbsp;your&nbsp;server&nbsp;has&nbsp;dynamic&nbsp;IP,&nbsp;use&nbsp;{ip}&nbsp;placeholder&nbsp;as&nbsp;the&nbsp;server's&nbsp;IP&nbsp;(useful&nbsp;for&nbsp;dynamic&nbsp;IP&nbsp;servers).</a><br>
          <a
            class="yamlComment">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.&nbsp;To&nbsp;allow&nbsp;not&nbsp;case-sensitive&nbsp;hostname&nbsp;comparing&nbsp;for&nbsp;the&nbsp;current&nbsp;IP,&nbsp;insert&nbsp;"[NOT_CASE_SENSITIVE]"&nbsp;or&nbsp;"[CASE_SENSITIVE]"</a><br>
          <a
            class="yamlComment">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(for&nbsp;case-sensitive&nbsp;comparing)&nbsp;right&nbsp;before&nbsp;the&nbsp;IP&nbsp;as&nbsp;shown&nbsp;in&nbsp;example&nbsp;whitelisted&nbsp;IPs&nbsp;list.&nbsp;If&nbsp;not&nbsp;inserted,&nbsp;the&nbsp;default</a><br>
          <a class="yamlComment">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setting&nbsp;is&nbsp;case-sensitive.</a><br>
          <a
            class="yamlComment">#NOTE:&nbsp;You&nbsp;don't&nbsp;need&nbsp;to&nbsp;write&nbsp;ports&nbsp;there.&nbsp;IPWhiteList&nbsp;will&nbsp;automatically&nbsp;obtain&nbsp;port&nbsp;where&nbsp;is&nbsp;BungeeCord&nbsp;server&nbsp;hosted&nbsp;on.</a><br>
          <a class="yamlComment">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;However,&nbsp;if&nbsp;you&nbsp;write&nbsp;port&nbsp;there,&nbsp;BungeeCord&nbsp;port&nbsp;will&nbsp;be&nbsp;overridden&nbsp;by&nbsp;specified&nbsp;port.</a><br>
          <a class="yamlKey">whitelisted:</a><br>
          &nbsp;&nbsp;<a class="yamlKey">-&nbsp;</a><a class="yamlValue">'yourserver.com'</a><br>
          &nbsp;&nbsp;<a class="yamlKey">-&nbsp;</a><a class="yamlValue">'localhost'</a><br>
          &nbsp;&nbsp;<a class="yamlKey">-&nbsp;</a><a class="yamlValue">'[NOT_CASE_SENSITIVE]abc.yourserver.com'</a><br>
        </code>
      </div>
    </div>
    <p>Now we need to specify the IPs we want players to connect with. Whitelisted IPs can be added to the list under <code>whitelisted:</code> tag. Players connecting with any of these IPs will be allowed to connect, however, the others will be
      kicked.
      You are allowed to whitelist IPs, but also hostnames and ports. Documentation is already in configuration, but let's take a closer look.</p>
    <ul>
      <li>
        <p><strong>Whitelisting ports</strong> - Easily, just specify the IP and the wanted port, for example <code>youserver.com:25565</code> will allow players connecting only with this IP and port.
          However, this plugin has thought about that the port will almost always be the port on which is BungeeCord server hosted on. Since this fact, if you don't write port, the port will be automatically
          obtained when plugin starts. For example, you have BungeeCord hosted on port <code>25565</code> and you have whitelisted IP <code>yourserver.com</code>, player connecting with the port <code>25565</code>
          and this IP will be allowed.</p>
      </li>
      <li>
        <p><strong>Whitelisting hostnames</strong> - Hostnames can be whitelisted easily by adding them in front of the IP, for example <code>mc.yourserver.com</code> will allow only players connecting with this IP
          (see upper point if you'd like to know how ports work in this plugin). If you want to allow all hostnames, use <code>*.</code> as hostname before the IP; this means <code>*.yourserver.com</code> will allow
          players connecting with <code>abc.yourserver.com</code>, <code>xyz.yourserver.com</code> etc., but it will also allow players connecting with <code>yourserver.com</code> (without any hostname).</p>
      </li>
      <li>
        <p><strong>For servers with dynamic IP address</strong> - If the machine on which is your BungeeCord server hosted on has dynamic IP, just use placeholder <code>{ip}</code> as whitelisted IP to tell the plugin to
          replace it by the machine's IP. It also means, it is just replacement for IP, so you can specify ports, hostnames, without any problems.</p>
      </li>
    </ul>

    <!--Setup mode-->
    <h1 class="sectionTitle" id="setupMode">5. Setup mode:</h1>
    <!--Config.yml part-->
    <!--davidcubesvk's YML to HTML converter-->
    <div class="codeBlock">
      <div>
        <code class="codeInBlock">
          <a class="yamlComment">#Setup&nbsp;mode&nbsp;(toggleable&nbsp;using&nbsp;/ipwl&nbsp;setup):</a><br>
          <a
            class="yamlComment">#(set&nbsp;this&nbsp;to&nbsp;false&nbsp;when&nbsp;you&nbsp;set&nbsp;up&nbsp;whitelisted&nbsp;IPs,&nbsp;to&nbsp;make&nbsp;them&nbsp;working.&nbsp;If&nbsp;true,&nbsp;plugin&nbsp;ignores&nbsp;whitelisted&nbsp;IPs)</a><br>
          <a class="yamlKey">setup:&nbsp;</a><a class="yamlValue">true</a><br>
        </code>
      </div>
    </div>
    <p>Finally, we need to turn the setup mode off, so IPWhiteList will start doing it's work. The setup mode can be toggled by setting <code>setup:</code> to <code>true</code> (on) or <code>false</code> (off). If on, plugin will accept all
      connections not depending on if they are whitelisted or not.</p>

    <!--IPWhiteListBukkit-->
    <h1 class="sectionTitle" id="ipWhiteListBukkit">6. IPWhiteListBukkit:</h1>
    <p>If you completed all steps above, configure IPWhiteListBukkit.</p>

    <div class="termDesc">
      <p id="term1"><sup>1</sup><strong>socket</strong> - type of communication over the internet which consists of one server
        and clients (server is IPWhiteList and clients IPWhiteListBukkit plugins in this case). Server is hosted on some port and clients connect to this server so they can share information between each other. Pretty the same like you
        join any game server as a client.</p>
    </div>
  </div>
</body>

<!--Footer-->
<footer style="margin-top: 0">
  <p class="footerPersonalData">This page does not collect any personal data about you.</p>
  <p>Copyright (c) 2020 davidcubesvk, All Rights Reserved.</p>
</footer>

</html>
